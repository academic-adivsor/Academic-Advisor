{"version":3,"sources":["app.js"],"names":["sideMenu","document","querySelector","profileBtn","getElementById","themeToggler","onclick","classList","toggle","remove","window","scrollY","add","onscroll","setData","day","innerHTML","Sunday","Monday","Thursday","daylist","Friday","forEach","sub","createElement","trContent","concat","time","roomNumber","subject","type","tr","Tuesday","appendChild","Wednesday","today","now","getDay","timeTableAll","nextDay","prevDay","userMessage","chatInput","sendChatBtn","Date","chatbotCloseBtn","API_KEY","createChatLi","message","className","chatContent","chatLi","textContent","requestOptions","response","_ref","botResponse","regeneratorRuntime","async","_context","prev","next","headers","body","JSON","stringify","awrap","chatbotToggler","sent","ok","json","chatDisplay","console","status","statusText","t0","chatbox","scrollTo","scrollHeight","finish","stop","handleChat","incomingChatLi","_context2","value","trim","abrupt","API_URL","generateResponse","addEventListener"],"mappings":"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","file":"app.min.js","sourcesContent":["const sideMenu = document.querySelector(\"aside\");\r\nconst profileBtn = document.querySelector(\"#profile-btn\");\r\nconst themeToggler = document.querySelector(\".theme-toggler\");\r\nconst nextDay = document.getElementById('nextDay');\r\nconst prevDay = document.getElementById('prevDay');\r\n\r\nprofileBtn.onclick = function() {\r\n    sideMenu.classList.toggle('active');\r\n}\r\nwindow.onscroll = () => {\r\n    sideMenu.classList.remove('active');\r\n    if(window.scrollY > 0){document.querySelector('header').classList.add('active');}\r\n    else{document.querySelector('header').classList.remove('active');}\r\n}\r\n\r\nthemeToggler.onclick = function() {\r\n    document.body.classList.toggle('dark-theme');\r\n    themeToggler.querySelector('span:nth-child(1)').classList.toggle('active')\r\n    themeToggler.querySelector('span:nth-child(2)').classList.toggle('active')\r\n}\r\n\r\nlet setData = (day) =>{\r\n    document.querySelector('table tbody').innerHTML = ' '; //To clear out previous table data;  \r\n    let daylist = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\r\n    document.querySelector('.timetable div h2').innerHTML = daylist[day];\r\n    switch(day){\r\n        case(0): day = Sunday; break;\r\n        case(1): day = Monday; break;\r\n        case(2): day = Tuesday; break;\r\n        case(3): day = Wednesday; break;\r\n        case(4): day = Thursday; break;\r\n        case(5): day = Friday; break;\r\n        case(6): day = Saturday; break;\r\n    }\r\n\r\n    day.forEach(sub => {\r\n        const tr = document.createElement('tr');\r\n        const trContent = `\r\n                            <td>${sub.time}</td>\r\n                            <td>${sub.roomNumber}</td>\r\n                            <td>${sub.subject}</td>\r\n                            <td>${sub.type}</td>\r\n                        `\r\n        tr.innerHTML = trContent;\r\n        document.querySelector('table tbody').appendChild(tr)                        \r\n    });\r\n}\r\n\r\nlet now = new Date();\r\nlet today = now.getDay(); // Will return the present day in numerical value; \r\nlet day = today; //To prevent the today value from changing;\r\n\r\nfunction timeTableAll(){\r\n    document.getElementById('timetable').classList.toggle('active');\r\n    setData(today);\r\n    document.querySelector('.timetable div h2').innerHTML = \"Today's Timetable\";\r\n}\r\nnextDay.onclick = function() {\r\n    day<=5 ? day++ : day=0;  // If else one liner\r\n    setData(day);\r\n}\r\nprevDay.onclick = function() {\r\n    day>=1 ? day-- : day=6;    \r\n    setData(day);\r\n}\r\n\r\nsetData(day); //To set the data in the table on loading window.\r\ndocument.querySelector('.timetable div h2').innerHTML = \"Today's Timetable\"; //To prevent overwriting the heading on loading;\r\n\r\n// ===============> chat-bot Code Go as Follows <================ //\r\nconst chatInput = document.querySelector(\".chat-input textarea\");\r\nconst sendChatBtn = document.querySelector(\".chat-input span\");\r\nconst chatbox = document.querySelector(\".chatbox\");\r\nconst chatbotToggler = document.querySelector(\".chatbot-toggler\");\r\nconst chatbotCloseBtn = document.querySelector(\".close-btn\");\r\n\r\nlet userMessage;\r\nconst API_KEY = \"sk-7Palc22EziLHISrxbAVQT38lbkFJY9WCOZiqdBhebjUy2XpH\";\r\n\r\n// Define chatDisplay\r\nconst chatDisplay = document.getElementById(\"chatbot\");\r\n\r\nconst createChatLi = (message, className) => {\r\n    const chatLi = document.createElement(\"li\");\r\n    chatLi.classList.add(\"chat\", className);\r\n    let chatContent = className === \"outgoing\" ? `<p></p>` : `<span class=\"material-symbols-outlined\">smart_toy</span><p></p>`;\r\n    chatLi.innerHTML = chatContent;\r\n    chatLi.querySelector(\"p\").textContent = message;\r\n    return chatLi;\r\n}\r\n\r\nconst generateResponse = async (incomingChatLi) => {\r\n    const API_URL = 'http://localhost:2020/api/v1/chat';\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ message: userMessage }),\r\n    };\r\n\r\n    try {\r\n        const response = await fetch(API_URL, requestOptions);\r\n        \r\n        if (response.ok) {\r\n            const { botResponse } = await response.json();\r\n            // Update the UI with the chatbot's response\r\n            chatDisplay.innerHTML += `<div>User: ${userMessage}</div>`;\r\n            chatDisplay.innerHTML += `<div>Bot: ${botResponse}</div>`;\r\n        } else {\r\n            console.error(`Error communicating with the server. Status: ${response.status}, ${response.statusText}`);\r\n        }\r\n    } catch (error) {\r\n        console.error('Error:', error.message);\r\n        console.error(error.stack);\r\n    } finally {\r\n        chatbox.scrollTo(0, chatbox.scrollHeight);\r\n    }\r\n};\r\n\r\nconst handleChat = async () => {\r\n    userMessage = chatInput.value.trim();\r\n    if (!userMessage) return;\r\n    chatInput.value = \"\";\r\n\r\n    chatbox.appendChild(createChatLi(userMessage, \"outgoing\"));\r\n    chatbox.scrollTo(0, chatbox.scrollHeight);\r\n\r\n    // Display \"Thinking...\" message while waiting for the response\r\n    const incomingChatLi = createChatLi(\"Thinking...\", \"incoming\");\r\n    chatbox.appendChild(incomingChatLi);\r\n    chatbox.scrollTo(0, chatbox.scrollHeight);\r\n\r\n    // Wait for generateResponse to complete before moving on\r\n    await generateResponse(incomingChatLi);\r\n};\r\n\r\nsendChatBtn.addEventListener(\"click\", handleChat);\r\nchatbotCloseBtn.addEventListener(\"click\", () => document.body.classList.remove(\"show-chatbot\"));\r\nchatbotToggler.addEventListener(\"click\", () => document.body.classList.toggle(\"show-chatbot\"));\r\n"]}