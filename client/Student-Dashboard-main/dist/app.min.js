"use strict";var sideMenu=document.querySelector("aside"),profileBtn=document.querySelector("#profile-btn"),themeToggler=document.querySelector(".theme-toggler"),nextDay=document.getElementById("nextDay"),prevDay=document.getElementById("prevDay");profileBtn.onclick=function(){sideMenu.classList.toggle("active")},window.onscroll=function(){sideMenu.classList.remove("active"),0<window.scrollY?document.querySelector("header").classList.add("active"):document.querySelector("header").classList.remove("active")},themeToggler.onclick=function(){document.body.classList.toggle("dark-theme"),themeToggler.querySelector("span:nth-child(1)").classList.toggle("active"),themeToggler.querySelector("span:nth-child(2)").classList.toggle("active")};var setData=function(e){document.querySelector("table tbody").innerHTML=" ";switch(document.querySelector(".timetable div h2").innerHTML=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e],e){case 0:e=Sunday;break;case 1:e=Monday;break;case 2:e=Tuesday;break;case 3:e=Wednesday;break;case 4:e=Thursday;break;case 5:e=Friday;break;case 6:e=Saturday}e.forEach(function(e){var t=document.createElement("tr"),a="\n                            <td>".concat(e.time,"</td>\n                            <td>").concat(e.roomNumber,"</td>\n                            <td>").concat(e.subject,"</td>\n                            <td>").concat(e.type,"</td>\n                        ");t.innerHTML=a,document.querySelector("table tbody").appendChild(t)})},now=new Date,today=now.getDay(),day=today;function timeTableAll(){document.getElementById("timetable").classList.toggle("active"),setData(today),document.querySelector(".timetable div h2").innerHTML="Today's Timetable"}nextDay.onclick=function(){day<=5?day++:day=0,setData(day)},prevDay.onclick=function(){1<=day?day--:day=6,setData(day)},setData(day),document.querySelector(".timetable div h2").innerHTML="Today's Timetable";var userMessage,chatInput=document.querySelector(".chat-input textarea"),sendChatBtn=document.querySelector(".chat-input span"),chatbox=document.querySelector(".chatbox"),chatbotToggler=document.querySelector(".chatbot-toggler"),chatbotCloseBtn=document.querySelector(".close-btn"),API_KEY="sk-7Palc22EziLHISrxbAVQT38lbkFJY9WCOZiqdBhebjUy2XpH",chatDisplay=document.getElementById("chatbot"),createChatLi=function(e,t){var a=document.createElement("li");a.classList.add("chat",t);var n="outgoing"===t?"<p></p>":'<span class="material-symbols-outlined">smart_toy</span><p></p>';return a.innerHTML=n,a.querySelector("p").textContent=e,a},generateResponse=function(){var t,a,n,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:2020/api/v1/chat",t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:userMessage})},e.prev=2,e.next=5,regeneratorRuntime.awrap(fetch("http://localhost:2020/api/v1/chat",t));case 5:if((a=e.sent).ok)return e.next=9,regeneratorRuntime.awrap(a.json());e.next=16;break;case 9:n=e.sent,c=n.botResponse,console.log("Bot Response:",c),chatDisplay.innerHTML+="<div>User: ".concat(userMessage,"</div>"),chatDisplay.innerHTML+="<div>Bot: ".concat(c,"</div>"),e.next=17;break;case 16:console.error("Error communicating with the server. Status: ".concat(a.status,", ").concat(a.statusText));case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),console.error("Error:",e.t0.message),console.error(e.t0.stack);case 23:return e.prev=23,chatbox.scrollTo(0,chatbox.scrollHeight),e.finish(23);case 26:case"end":return e.stop()}},null,null,[[2,19,23,26]])},handleChat=function(){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(userMessage=chatInput.value.trim()){e.next=3;break}return e.abrupt("return");case 3:return chatInput.value="",chatbox.appendChild(createChatLi(userMessage,"outgoing")),chatbox.scrollTo(0,chatbox.scrollHeight),t=createChatLi("Thinking...","incoming"),chatbox.appendChild(t),chatbox.scrollTo(0,chatbox.scrollHeight),e.next=11,regeneratorRuntime.awrap(generateResponse(t));case 11:case"end":return e.stop()}})};sendChatBtn.addEventListener("click",handleChat),chatbotCloseBtn.addEventListener("click",function(){return document.body.classList.remove("show-chatbot")}),chatbotToggler.addEventListener("click",function(){return document.body.classList.toggle("show-chatbot")});
//# sourceMappingURL=app.min.js.map
