"use strict";var AsyncHandler=require("express-async-handler"),Admin=require("../../model/staff/Admin");exports.registerAdmnCtrl=AsyncHandler(function(e,t){var a,r,n,u,c;return regeneratorRuntime.async(function(s){for(;;)switch(s.prev=s.next){case 0:return a=e.body,r=a.name,n=a.email,u=a.password,s.next=3,regeneratorRuntime.awrap(Admin.findOne({email:n}));case 3:if(s.sent)throw new Error("Admin Exists");s.next=6;break;case 6:return s.next=8,regeneratorRuntime.awrap(Admin.create({name:r,email:n,password:u}));case 8:c=s.sent,t.status(201).json({status:"success",data:c});case 10:case"end":return s.stop()}})}),exports.loginAdminCtrl=function(e,t){var a,r,n,u;return regeneratorRuntime.async(function(s){for(;;)switch(s.prev=s.next){case 0:return a=e.body,r=a.email,n=a.password,s.prev=1,s.next=4,regeneratorRuntime.awrap(Admin.findOne({email:r}));case 4:if(u=s.sent){s.next=7;break}return s.abrupt("return",t.json({message:"Invalid login crendentials"}));case 7:if(s.t0=u,s.t0)return s.next=11,regeneratorRuntime.awrap(u.verifyPassword(n));s.next=12;break;case 11:s.t0=s.sent;case 12:if(s.t0)return s.abrupt("return",t.json({data:u}));s.next=16;break;case 16:return s.abrupt("return",t.json({message:"Invalid login crendentials"}));case 17:s.next=22;break;case 19:s.prev=19,s.t1=s.catch(1),t.json({status:"failed",error:s.t1.message});case 22:case"end":return s.stop()}},null,null,[[1,19]])},exports.getAdminsCtrl=function(s,e){try{e.status(201).json({status:"success",data:"All admins"})}catch(s){e.json({status:"failed",error:s.message})}},exports.getAdminCtrl=function(s,e){try{e.status(201).json({status:"success",data:"added single admin"})}catch(s){e.json({status:"failed",error:s.message})}},exports.updateAdminCtrl=function(s,e){try{e.status(201).json({status:"success",data:"update admin"})}catch(s){e.json({status:"failed",error:s.message})}},exports.deleteAdminCtrl=function(s,e){try{e.status(201).json({status:"success",data:"delete admin"})}catch(s){e.json({status:"failed",error:s.message})}},exports.adminSuspendTeacherCtrl=function(s,e){try{e.status(201).json({status:"success",data:"admin suspend teacher"})}catch(s){e.json({status:"failed",error:s.message})}},exports.adminUnSuspendTeacherCtrl=function(s,e){try{e.status(201).json({status:"success",data:"admin unsuspend teacher"})}catch(s){e.json({status:"failed",error:s.message})}},exports.adminWithdrawTeacherCtrl=function(s,e){try{e.status(201).json({status:"success",data:"admin withdraw teacher"})}catch(s){e.json({status:"failed",error:s.message})}},exports.adminUnWithdrawTeacherCtrl=function(s,e){try{e.status(201).json({status:"success",data:"admin unwithdraw teacher"})}catch(s){e.json({status:"failed",error:s.message})}},exports.adminPublishResultsCtrl=function(s,e){try{e.status(201).json({status:"success",data:"admin publish exam results"})}catch(s){e.json({status:"failed",error:s.message})}},exports.adminUnPublishResultsCtrl=function(s,e){try{e.status(201).json({status:"success",data:"admin unpublish exam results"})}catch(s){e.json({status:"failed",error:s.message})}};
//# sourceMappingURL=adminCtrl.min.js.map
