"use strict";var AsyncHandler=require("express-async-handler"),Admin=require("../../model/staff/Admin"),generateToken=require("../../utlis/generateToken"),verifyToken=require("../../utlis/verifyToken");exports.registerAdmnCtrl=AsyncHandler(function(s,t){var a,r,n,u,i;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.body,r=a.name,n=a.email,u=a.password,e.next=3,regeneratorRuntime.awrap(Admin.findOne({email:n}));case 3:if(e.sent)throw new Error("Admin Exists");e.next=6;break;case 6:return e.next=8,regeneratorRuntime.awrap(Admin.create({name:r,email:n,password:u}));case 8:i=e.sent,t.status(201).json({status:"success",data:i});case 10:case"end":return e.stop()}})}),exports.loginAdminCtrl=AsyncHandler(function(s,t){var a,r,n,u,i,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.body,r=a.email,n=a.password,e.next=3,regeneratorRuntime.awrap(Admin.findOne({email:r}));case 3:if(u=e.sent){e.next=6;break}return e.abrupt("return",t.json({message:"Invalid login crendentials"}));case 6:if(e.t0=u,e.t0)return e.next=10,regeneratorRuntime.awrap(u.verifyPassword(n));e.next=11;break;case 10:e.t0=e.sent;case 11:if(e.t0)return i=generateToken(u._id),c=verifyToken(i),e.abrupt("return",t.json({data:generateToken(u._id),user:u,verify:c}));e.next=17;break;case 17:return e.abrupt("return",t.json({message:"Invalid login crendentials"}));case 18:case"end":return e.stop()}})}),exports.getAdminsCtrl=function(e,s){try{s.status(201).json({status:"success",data:"All admins"})}catch(e){s.json({status:"failed",error:e.message})}},exports.getAdminCtrl=function(e,s){try{s.status(201).json({status:"success",data:"added single admin"})}catch(e){s.json({status:"failed",error:e.message})}},exports.updateAdminCtrl=function(e,s){try{s.status(201).json({status:"success",data:"update admin"})}catch(e){s.json({status:"failed",error:e.message})}},exports.deleteAdminCtrl=function(e,s){try{s.status(201).json({status:"success",data:"delete admin"})}catch(e){s.json({status:"failed",error:e.message})}},exports.adminSuspendTeacherCtrl=function(e,s){try{s.status(201).json({status:"success",data:"admin suspend teacher"})}catch(e){s.json({status:"failed",error:e.message})}},exports.adminUnSuspendTeacherCtrl=function(e,s){try{s.status(201).json({status:"success",data:"admin unsuspend teacher"})}catch(e){s.json({status:"failed",error:e.message})}},exports.adminWithdrawTeacherCtrl=function(e,s){try{s.status(201).json({status:"success",data:"admin withdraw teacher"})}catch(e){s.json({status:"failed",error:e.message})}},exports.adminUnWithdrawTeacherCtrl=function(e,s){try{s.status(201).json({status:"success",data:"admin unwithdraw teacher"})}catch(e){s.json({status:"failed",error:e.message})}},exports.adminPublishResultsCtrl=function(e,s){try{s.status(201).json({status:"success",data:"admin publish exam results"})}catch(e){s.json({status:"failed",error:e.message})}},exports.adminUnPublishResultsCtrl=function(e,s){try{s.status(201).json({status:"success",data:"admin unpublish exam results"})}catch(e){s.json({status:"failed",error:e.message})}};
//# sourceMappingURL=adminCtrl.min.js.map
