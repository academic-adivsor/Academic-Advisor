"use strict";require("dotenv").config();var express=require("express"),mongoose=require("mongoose"),http=require("http"),bodyParser=require("body-parser"),dialogflow=require("dialogflow"),uuid=require("uuid");require("./config/dbConnect")();var app=express(),server=http.createServer(app),port=process.env.PORT||8e3;mongoose.connect(process.env.MONGO_URL,{useNewUrlParser:!0,useUnifiedTopology:!0});var sessionClient=new dialogflow.SessionsClient({credentials:{private_key:process.env.DIALOGFLOW_PRIVATE_KEY,client_email:process.env.DIALOGFLOW_CLIENT_EMAIL}}),sessionPath=sessionClient.sessionPath("parker-pslk",uuid.v4());app.use(bodyParser.urlencoded({extended:!0})),app.use(bodyParser.json());var adminRouter=require("./routes/staff/adminRouter"),academicTermRouter=require("./routes/academics/academicTerm"),academicYearRouter=require("./routes/academics/academicYear"),classLevelRouter=require("./routes/academics/classLevel"),programRouter=require("./routes/academics/program"),subjectRouter=require("./routes/academics/subjects"),yearGroupRouter=require("./routes/academics/yearGroups"),chatRoute=require("./routes/chatRoute");app.use("/api/v1/admins",adminRouter),app.use("/api/v1/academic-years",academicYearRouter),app.use("/api/v1/academic-terms",academicTermRouter),app.use("/api/v1/class-levels",classLevelRouter),app.use("/api/v1/programs",programRouter),app.use("/api/v1/subjects",subjectRouter),app.use("/api/v1/year-groups",yearGroupRouter),app.use("/api/v1/chat",chatRoute),app.use(function(e,r,s){r.status(404).json({message:"Not Found"})}),app.use(function(e,r,s,a){console.error("Error:",error),s.status(500).json({message:"Internal Server Error"})}),server.listen(port,function(){console.log("Server is running on port ".concat(port))});
//# sourceMappingURL=server.min.js.map
