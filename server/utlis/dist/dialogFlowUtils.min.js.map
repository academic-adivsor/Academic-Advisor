{"version":3,"sources":["dialogFlowUtils.js"],"names":["require","SessionsClient","serviceAccount","sessionId","sessionClient","session","queryInput","responses","regeneratorRuntime","async","_context","prev","next","credentials","sessionPath","processUserMessage","text","userMessage","languageCode","awrap","sent","abrupt","queryResult","fulfillmentText","t0","stop","module","exports"],"mappings":"0BAA2BA,QAAQ,cAA3BC,wBAAAA,eACFC,eAAiBF,QAAQ,qCADvBC,mBAGmB,SAHnBA,EAGuCE,EAAWD,GAA/B,IAAAE,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OACnBR,EAAgB,IAAIH,eAAe,CAAEY,YAAaX,IAHpDA,EAAcE,EAAWU,YAAA,cAAAX,GAKvBG,EAAa,CAHfS,KAAAA,CAAqBC,KAAAC,EAAAC,aAAA,UAAAR,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAW,MAC+BjB,EAAAA,aAAAA,CAAAA,QAAAA,EAAAA,WAAAA,KAD/B,KAAA,EAAA,OACkBW,EADlBH,EAAAU,KAAAV,EAAAW,OAAA,SACHd,EADG,GAAAe,YAAAC,iBAAA,KAAA,GAAA,OAAAb,EAAAC,KAAA,GAAAD,EAAAc,GAAAd,EAAA,MAAA,GAGnBJ,QAAAA,MAAAA,SAAAA,EAAAA,IAHmBI,EAAAW,OAAA,SAIvBL,iDAJuB,KAAA,GAAA,IAAA,MAAA,OAAAN,EAAAe,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,OAGNC,OAAAC,QAHM,CAAAZ,mBAAAA","file":"dialogFlowUtils.min.js","sourcesContent":["const { SessionsClient } = require('dialogflow');\r\nconst serviceAccount = require('../../dialogflow-credentials.json');\r\n\r\nconst processUserMessage = async (userMessage, sessionId, serviceAccount) => {\r\n  const sessionClient = new SessionsClient({ credentials: serviceAccount });\r\n  const session = sessionClient.sessionPath('parker-pslk', sessionId);\r\n  const queryInput = {\r\n    text: {\r\n      text: userMessage,\r\n      languageCode: 'en-US',\r\n    },\r\n  };\r\n  \r\n  try {\r\n    const responses = await sessionClient.detectIntent({ session, queryInput });\r\n    return responses[0].queryResult.fulfillmentText;\r\n  } catch (error) {\r\n    console.error('Error:', error);\r\n    return 'Oops! Something went wrong. Please try again.'; // Default error message\r\n  }\r\n};\r\n\r\nmodule.exports = { processUserMessage };"]}