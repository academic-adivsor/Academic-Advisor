{"version":3,"sources":["app.js"],"names":["express","require","morgan","app","notFoundErr","academicTermRouter","cors","classLevelRouter","subjectRouter","yearGroupRouter","globalErrHandler","json","use","adminRouter","academicYearRouter","programRouter","module","exports","whitelist","origin","callback","indexOf","Error","corsOptions","console"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,OAASD,QAAQ,UADjBD,KAAOC,QAAU,QAGjBE,IAAMH,mBAFZC,QAAA,mCAAMC,0BAAAA,iBAAiBE,qBAAAA,YAIjBC,mBAAqBJ,QAAQ,oCAH7BK,mBAANL,QAAA,oCAKMM,iBAAiBN,QAAQ,kCAJzBE,cAANF,QAAA,+BAMMO,cAAcP,QAAQ,gCACtBQ,gBAN4CR,QAAC,kCAA3CS,YAOYT,QAAQ,+BAC5BE,IAR0BC,IAAAA,QAQVO,QAGhBR,IAAIS,IAAI,iBAAkBC,aAT1BV,IAAMW,IAAAA,yBAA6BA,oBAWnCX,IAAIS,IAAI,yBAA0BP,oBAVlCF,IAAMI,IAAAA,uBAAyBA,kBAY/BJ,IAAIS,IAAI,mBAAoBG,eAX5BZ,IAAMY,IAAAA,mBAAsBP,eAa5BL,IAAIS,IAAI,sBAAuBH,iBAE/BN,IAAIS,IAAIR,aAbRD,IAAMM,IAAAA,kBAeNO,OAAOC,QAAUd,IAEjB,IAAMe,UAAY,CAflBf,mCAEA,0CAgBC,oCAbGS,YAAI,CACRT,OAAQ,SAAAgB,EAAAC,IACoBL,IAApBG,UAAAG,QAARF,GACIP,EAAI,MAAA,GAkBFQ,EAAS,IAAIE,MAAM,0BAXPnB,IAAlBS,IAAAN,KAAAiB,cAOEJ,IAAAA,OAAQ,KAAA,WACNK,QAAIN,IAAAA","file":"app.min.js","sourcesContent":["const express = require(\"express\");\r\nconst morgan = require(\"morgan\");\r\nconst cors = require('cors');\r\nconst app = express();\r\nconst { globalErrHandler, notFoundErr, } = require(\"../middlewares/globalErrHandler\");\r\nconst academicTermRouter = require(\"../routes/academics/academicTerm\");\r\nconst academicYearRouter = require(\"../routes/academics/academicYear\");\r\nconst classLevelRouter=require(\"../routes/academics/classLevel\");\r\nconst programRouter=require(\"../routes/academics/program\");\r\nconst subjectRouter=require(\"../routes/academics/subjects\");\r\nconst yearGroupRouter=require(\"../routes/academics/yearGroups\");\r\nconst adminRouter = require(\"../routes/staff/adminRouter\");\r\napp.use(express.json());\r\n//routes\r\n//admin register\r\napp.use(\"/api/v1/admins\", adminRouter);\r\napp.use(\"/api/v1/academic-years\", academicYearRouter);\r\napp.use(\"/api/v1/academic-terms\", academicTermRouter);\r\napp.use(\"/api/v1/class-levels\", classLevelRouter);\r\napp.use(\"/api/v1/programs\", programRouter);\r\napp.use(\"/api/v1/subjects\", subjectRouter);\r\napp.use(\"/api/v1/year-groups\", yearGroupRouter);\r\n//Error middlewares\r\napp.use(notFoundErr);\r\napp.use(globalErrHandler);\r\nmodule.exports = app;\r\n\r\nconst whitelist = [\r\n\t'http://Admin-Dashboard-localhost',   \r\n\t'http://Student-Dashboard-main-localhost',\r\n\t'http://Doctor_DashBord-localhost', // Replace with your actual instructor localhost\r\n];\r\n\r\nconst corsOptions = {\r\n  origin: function (origin, callback) {\r\n    if (whitelist.indexOf(origin) !== -1) {\r\n      callback(null, true);\r\n    } else {\r\n      callback(new Error('Not allowed by CORS'));\r\n    }\r\n  },\r\n};\r\n\r\napp.use(cors(corsOptions));\r\n\r\napp.listen(8801, () => {\r\n  console.log('Server is running on http://localhost:8801');\r\n});"]}