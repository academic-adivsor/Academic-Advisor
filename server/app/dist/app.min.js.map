{"version":3,"sources":["app.js"],"names":["express","require","globalErrHandler","notFoundErr","classLevelRouter","academicTermRouter","subjectRouter","academicYearRouter","adminRouter","teachersRouter","programRouter","studentRouter","chatRouter","yearGroupRouter","checkExamResults","corsOptions","origin","examRouter","methods","credentials","optionsSuccessStatus","app","examResultRouter","use","cors","__dirname","questionsRouter","exports"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,oBAIpBA,QAAQ,mCAJZC,0BAAAA,iBAGEC,qBAAAA,YADAD,mBAGyBD,QAHzBC,oCACAC,mBAAAA,QAAAA,oCAIIC,iBAAmBH,QAAQ,kCAF3BI,cAAkBJ,QAAGA,+BAIrBK,cAAgBL,QAAQ,gCAHxBM,gBAAkBN,QAAU,kCAK5BO,YAAcP,QAAQ,+BAEtBQ,eAAiBR,QAAQ,4BALzBS,WAAaT,QAAGA,kCAOhBU,cAAgBV,QAAQ,2BANxBK,gBAAgBL,QAAQ,sCAQxBW,WAAaX,QAAQ,6BAPrBY,iBAAkBZ,QAAQ,iDASPA,QAAQ,uCAA1Ba,2BAAAA,iBARDN,KAAAA,QAAcP,QAYdc,YAAc,CATpBC,OAAMC,CAAAA,yBAWJC,QAAS,yCAVXC,aAAMR,EAYJS,qBAAsB,KAElBC,IAAMrB,UAXZqB,IAAMC,IAAAA,QAAAA,QAeND,IAAIE,IAAIC,QACRH,IAAIE,IAAIvB,QAAO,OAfiByB,UAAC,YAIjCJ,IAAMN,IAAAA,iBAAcS,KAAAT,aAAAP,aAClBQ,IAAAA,IAAM,yBAAET,oBACRW,IAAAA,IAAAA,yBAASb,oBACTc,IAAAA,IAAAA,uBAHkBf,kBAIlBgB,IAAAA,IAAAA,mBAAsBV,eAJJW,IAApBE,IAAA,mBAAAjB,eAMAe,IAAMA,IAAG,sBAETR,iBAgBAQ,IAAIE,IAAI,mBAAoBC,KAAKT,aAAcN,gBAf/CY,IAAIE,IAAIvB,gBAAiBiB,YAiBzBI,IAAIE,IAAI,oBAAqBG,iBAhB7BL,IAAIE,IAAIC,mBAASA,KAAAT,aAAAJ,eAkBjBU,IAAIE,IAAI,uBAAwBD,kBAjBhCD,IAAIE,IAAIvB,eAAOwB,KAAQC,aAAYb,YAMnCS,IAAIE,IAAIpB,aACRkB,IAAIE,IAAIrB,kBAERmB,OAAAM,QAAQN","file":"app.min.js","sourcesContent":["const express = require(\"express\");\r\nconst {\r\n  globalErrHandler,\r\n  notFoundErr,\r\n} = require(\"../middlewares/globalErrHandler\");\r\nconst academicTermRouter = require(\"../routes/academics/academicTerm\");\r\nconst academicYearRouter = require(\"../routes/academics/academicYear\");\r\nconst classLevelRouter = require(\"../routes/academics/classLevel\");\r\nconst programRouter = require(\"../routes/academics/program\");\r\nconst subjectRouter = require(\"../routes/academics/subjects\");\r\nconst yearGroupRouter = require(\"../routes/academics/yearGroups\");\r\nconst adminRouter = require(\"../routes/staff/adminRouter\");\r\n\r\nconst teachersRouter = require(\"../routes/staff/teachers\");\r\nconst examRouter=require(\"../routes/academics/examRoutes\");\r\nconst studentRouter = require(\"../routes/staff/student\");\r\nconst questionsRouter=require(\"../routes/academics/questionRoutes\");\r\nconst chatRouter = require(\"../routes/chat/chatRouter\");\r\nconst examResultRouter=require(\"../routes/academics/examRsultsRoute\");\r\nconst {checkExamResults}=require(\"../controller/academics/examResults\");\r\nconst cors = require(\"cors\"); // Add this line to import the cors module\r\n\r\n\r\nconst corsOptions = {\r\n  origin: ['http://localhost:8080'],\r\n  methods: 'GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS',\r\n  credentials: true,\r\n  optionsSuccessStatus: 204,\r\n};\r\nconst app = express();\r\n\r\n//Middlewares\r\napp.use(express.json()); // Correct usage for parsing JSON payloads\r\napp.use(cors()); // Add this line to enable CORS for all routes\r\napp.use(express.static(__dirname + '/public')); // Assuming your HTML file is in the 'public' folder\r\n\r\n// Routes\r\n\r\n//Routes\r\n//assigns links to each constant\r\napp.use(\"/api/v1/admins\", cors(corsOptions), adminRouter);\r\napp.use(\"/api/v1/academic-years\", academicYearRouter);\r\napp.use(\"/api/v1/academic-terms\", academicTermRouter);\r\napp.use(\"/api/v1/class-levels\", classLevelRouter);\r\napp.use(\"/api/v1/programs\", programRouter);\r\napp.use(\"/api/v1/subjects\", subjectRouter);\r\napp.use(\"/api/v1/year-groups\", yearGroupRouter);\r\napp.use(\"/api/v1/teachers\", cors(corsOptions), teachersRouter);\r\napp.use(\"/api/v1/exams\", examRouter);\r\napp.use(\"/api/v1/questions\", questionsRouter);\r\napp.use(\"/api/v1/students\", cors(corsOptions), studentRouter);\r\napp.use(\"/api/v1/exam-results\", examResultRouter);\r\napp.use(\"/api/v1/chat\", cors(corsOptions), chatRouter);\r\n\r\n\r\n\r\n//Error middlewares\r\napp.use(notFoundErr);\r\napp.use(globalErrHandler);\r\n\r\nmodule.exports = app;"]}