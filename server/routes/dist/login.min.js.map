{"version":3,"sources":["login.js"],"names":["mongoose","require","res","_req$body","email","password","user","regeneratorRuntime","async","_context","prev","next","req","body","awrap","User","findOne","sent","abrupt","status","json","message","role","redirect","t0","console","error","stop","module","exports","login"],"mappings":"aACA,IAAMA,SAAWC,QAAQ,YAAnBD,MAAQ,SAAGC,EAAQC,GAAX,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAR,EAGgBS,EAAIC,KAAxBT,EAHID,EAGJC,MAAOC,EAHHF,EAGGE,SAHHI,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAO,MAEAC,KAAAC,QAAA,CAAAZ,MAAAA,EAAAC,SAAAA,KAFA,KAAA,EAAA,GAEAC,EAFAG,EAAAQ,KAAA,CAAAR,EAAAE,KAAA,EAAA,MAAA,OAAAF,EAAAS,OAAA,SAEAhB,EAAAiB,OAAA,KAAAC,KAAA,CAAAC,QAAA,yBAFA,KAAA,EAEA,UAAAf,EAAAgB,KAKwBlB,EAAAA,SAAAA,oBAAOC,YAAAA,EAAQiB,KAAjBpB,EAAAqB,SALtB,2BAgBe,YAAdjB,EAAKgB,MAhBNpB,EAAAqB,SAAA,qBAFAd,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAF,EAAAC,KAAA,GAAAD,EAAAe,GAAAf,EAAA,MAAA,GAEAgB,QAAAC,MAAAjB,EAAAe,IAAAtB,EAAAiB,OAAA,KAAAC,KAAA,CAAAC,QAAA,0BAFA,KAAA,GAAA,IAAA,MAAA,OAAAZ,EAAAkB,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,OAEAC,OAAAC,QAAA,CAAAC,MAAAA","file":"login.min.js","sourcesContent":["// authController.js\r\nconst mongoose = require('mongoose');\r\n\r\nconst login = async (req, res) => {\r\n  const { email, password } = req.body;\r\n\r\n  try {\r\n    // Find the user in the database\r\n    const user = await User.findOne({ email, password });\r\n\r\n    if (!user) {\r\n      return res.status(401).json({ message: 'Invalid credentials' });\r\n    }\r\n\r\n    // Redirect to the appropriate dashboard based on the role\r\n    if (user.role === 'admin') {\r\n      res.redirect('/Admin-Dashboard');\r\n    } else if (user.role === 'student') {\r\n      res.redirect('/Student-Dashboard-main');\r\n    } else if (user.role === 'teacher') {\r\n      res.redirect('/Doctor-Dashboard');\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n    res.status(500).json({ message: 'Internal server error' });\r\n  }\r\n};\r\n\r\nmodule.exports = { login };\r\n"]}