{"version":3,"sources":["chatRouter.js"],"names":["express","require","chatRouter","Router","sessionId","post","req","res","processUserMessage","body","message","serviceAccount","status","json","userMessage","botResponse","module","exports"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,WAAaF,QAAQG,kBADJF,QAAvB,4BAAMD,4BAAAA,mBAGAI,UAAY,GAFZF,eAAaF,QAAA,qCAKnBE,WAAWG,KAJoBJ,IAAAA,SAAQK,EAAAC,GAARN,IAAAA,EAAAA,EAAAA,OAAAA,mBAAAA,MAAAA,SAAAA,GAAAA,OAAAA,OAAAA,EAAAA,KAAAA,EAAAA,MAAAA,KAAAA,EAAAA,GAAvBO,EAKcF,EAAIG,KAAKC,QALAT,EAAAA,KAAAA,EAEzBU,EAFyBV,CAAAA,EAAAA,KAAAA,EAAAA,MAAAA,OAAAA,EAAAA,OAAAA,SAUlBM,EAAIK,OAAO,KAAKC,KAAK,CAAEH,QAAS,kCAVdT,KAAAA,EAAAA,OAAAA,EAAAA,KAAAA,EAAAA,mBAAAA,MAIVO,mBAAAM,IAJUb,KAAAA,EAIVc,EAJUd,EAAAA,KAIVM,EAAAM,KAAA,CAAAH,QAAAK,IAJUd,EAAAA,KAAAA,GAAAA,MAAAA,KAAAA,GAAAA,EAAAA,KAAAA,GAAAA,EAAAA,GAAAA,EAAAA,MAAAA,GAKvBa,QAAAA,MAAAA,SAAAA,EAAAA,IADaP,EAAAK,OAAA,KAAAC,KAAA,CAAAH,QAAA,0BAJUT,KAAAA,GAAAA,IAAAA,MAAAA,OAAAA,EAAAA,SAAAA,KAAAA,KAAAA,CAAAA,CAAAA,EAAAA,QAIVe,OAAAC,QAAAf","file":"chatRouter.min.js","sourcesContent":["const express = require(\"express\");\r\nconst chatRouter = express.Router();\r\nconst { processUserMessage } = require(\"../utlis/dialogFlowUtils\");\r\nconst sessionId = \"\";  // Set an appropriate session ID\r\nconst serviceAccount = require('../../dialogflow-credentials.json');\r\n\r\nchatRouter.post(\"/\", async (req, res) => {\r\n  const userMessage = req.body.message;\r\n\r\n  try {\r\n    // Ensure that a message is provided\r\n    if (!userMessage) {\r\n      return res.status(400).json({ message: 'Bad Request: Missing message' });\r\n    }\r\n\r\n    const botResponse = await processUserMessage(userMessage);\r\n\r\n    res.json({ message: botResponse });\r\n  } catch (error) {\r\n    console.error('Error:', error);\r\n    res.status(500).json({ message: 'Internal Server Error' });\r\n  }\r\n});\r\n\r\nmodule.exports = chatRouter;"]}