"use strict";var mongoose=require("mongoose"),login=function(r,n){var t,a,s,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.body,a=t.email,s=t.password,e.prev=1,e.next=4,regeneratorRuntime.awrap(User.findOne({email:a,password:s}));case 4:if(o=e.sent){e.next=7;break}return e.abrupt("return",n.status(401).json({message:"Invalid credentials"}));case 7:"admin"===o.role?n.redirect("/Admin-Dashboard"):"student"===o.role?n.redirect("/Student-Dashboard-main"):"teacher"===o.role&&n.redirect("/Doctor-Dashboard"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),n.status(500).json({message:"Internal server error"});case 14:case"end":return e.stop()}},null,null,[[1,10]])};module.exports={login:login};
//# sourceMappingURL=login.min.js.map
