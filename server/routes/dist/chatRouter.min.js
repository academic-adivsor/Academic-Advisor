"use strict";var express=require("express"),chatRouter=express.Router(),_require=require("../utlis/dialogFlowUtils"),processUserMessage=_require.processUserMessage,serviceAccount=require("../../parker-pslk-7df273a4b799.json"),generateSessionId=function(){return Date.now().toString()};chatRouter.post("/",function(r,s){var t,n,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.body.message,e.prev=1,t){e.next=4;break}return e.abrupt("return",s.status(400).json({message:"Bad Request: Missing message"}));case 4:return n=generateSessionId(),e.next=7,regeneratorRuntime.awrap(processUserMessage(t,n,serviceAccount));case 7:a=e.sent,s.json({message:a}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Error:",e.t0),s.status(500).json({message:"Internal Server Error"});case 15:case"end":return e.stop()}},null,null,[[1,11]])}),module.exports=chatRouter;
//# sourceMappingURL=chatRouter.min.js.map
